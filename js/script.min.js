var promoSliderList,servicesSliderList,servicesSliderControl,modal,mapModal,mapModalOpenButton,mapModalCloseButton,writeUsModal,writeUsModalForm,writeUsModalOpenButton,writeUsModalCloseButton,writeUsModalNameField,writeUsModalEmailField,writeUsModalTextField,ESC_KEYCODE,removePromoSliderActive,removeServicesSliderActive,depth,line,firstPin,secondPin,MIN,MAX,maxPrice,sliderHandler,numberChange;"home-page"==document.body.id&&(promoSliderList=document.querySelector(".promo-slider__list"),servicesSliderList=document.querySelector(".services__list"),servicesSliderControl=document.querySelector(".services__list-control"),modal=document.querySelector(".modal"),mapModal=document.querySelector(".map.modal"),mapModalOpenButton=document.querySelector(".contacts__map"),mapModalCloseButton=mapModal.querySelector(".modal__button--close"),writeUsModal=document.querySelector(".write-us.modal"),writeUsModalForm=writeUsModal.querySelector("form"),writeUsModalOpenButton=document.querySelector(".button.button--contacts"),writeUsModalCloseButton=writeUsModal.querySelector(".modal__button--close"),writeUsModalNameField=writeUsModal.querySelector(".write-us__name"),writeUsModalEmailField=writeUsModal.querySelector(".write-us__email"),writeUsModalTextField=writeUsModal.querySelector(".write-us__text"),ESC_KEYCODE=27,removePromoSliderActive=function(){document.querySelector(".promo-slider__button--active").classList.remove("promo-slider__button--active"),document.querySelector(".promo-slider__slide--active").classList.remove("promo-slider__slide--active")},removeServicesSliderActive=function(){servicesSliderControl.querySelector(".button--slider--active").classList.remove("button--slider--active"),document.querySelector(".services__item--active").classList.remove("services__item--active")},document.querySelectorAll(".promo-slider__button").forEach(function(t,i){t.addEventListener("click",function(e){e.preventDefault(),removePromoSliderActive(),t.classList.add("promo-slider__button--active"),promoSliderList.children[i].classList.add("promo-slider__slide--active")})}),servicesSliderControl.querySelectorAll(".button.button--slider").forEach(function(t,i){t.addEventListener("click",function(e){e.preventDefault(),removeServicesSliderActive(),t.classList.add("button--slider--active"),servicesSliderList.children[i].classList.add("services__item--active")})}),document.addEventListener("keydown",function(e){e.keyCode===ESC_KEYCODE&&(mapModal.classList.contains("modal--active")&&(mapModal.classList.remove("modal--active"),mapModalOpenButton.focus()),writeUsModal.classList.contains("modal--active")&&(writeUsModal.classList.remove("modal--active"),writeUsModalOpenButton.focus()))}),mapModalCloseButton.addEventListener("click",function(){mapModal.classList.remove("modal--active"),mapModalOpenButton.focus()}),mapModalOpenButton.addEventListener("click",function(e){e.preventDefault(),mapModal.classList.add("modal--active"),mapModalCloseButton.focus()}),writeUsModalCloseButton.addEventListener("click",function(){writeUsModal.classList.remove("modal--active"),writeUsModalOpenButton.focus()}),writeUsModalOpenButton.addEventListener("click",function(e){e.preventDefault(),writeUsModal.classList.remove("modal--shake"),writeUsModal.classList.add("modal--active"),writeUsModalCloseButton.focus()}),writeUsModalNameField.addEventListener("input",function(){!1!==writeUsModalNameField.checkValidity()||writeUsModalNameField.classList.contains("invalid")?!0===writeUsModalNameField.checkValidity()&&writeUsModalNameField.classList.contains("invalid")&&writeUsModalNameField.classList.remove("invalid"):writeUsModalNameField.classList.add("invalid")}),writeUsModalEmailField.addEventListener("input",function(){!1!==writeUsModalEmailField.checkValidity()||writeUsModalEmailField.classList.contains("invalid")?!0===writeUsModalEmailField.checkValidity()&&writeUsModalEmailField.classList.contains("invalid")&&writeUsModalEmailField.classList.remove("invalid"):writeUsModalEmailField.classList.add("invalid")}),writeUsModalTextField.addEventListener("input",function(){!1!==writeUsModalTextField.checkValidity()||writeUsModalTextField.classList.contains("invalid")?!0===writeUsModalTextField.checkValidity()&&writeUsModalTextField.classList.contains("invalid")&&writeUsModalTextField.classList.remove("invalid"):writeUsModalTextField.classList.add("invalid")}),writeUsModalForm.addEventListener("submit",function(e){!1===writeUsModalForm.checkValidity()&&(e.preventDefault(),!1!==writeUsModalNameField.checkValidity()||writeUsModalNameField.classList.contains("invalid")||writeUsModalNameField.classList.add("invalid"),!1!==writeUsModalEmailField.checkValidity()||writeUsModalEmailField.classList.contains("invalid")||writeUsModalEmailField.classList.add("invalid"),!1!==writeUsModalTextField.checkValidity()||writeUsModalTextField.classList.contains("invalid")||writeUsModalTextField.classList.add("invalid"),writeUsModal.classList.remove("modal--shake"),writeUsModal.offsetWidth,writeUsModal.classList.add("modal--shake"))})),"catalog-page"==document.body.id&&(depth=document.querySelector(".value-level__depth"),line=document.querySelector(".value-level__line"),firstPin={pin:document.querySelector(".value-level__pin--first"),value:document.querySelector(".value-level__value--first"),label:document.querySelector(".value-level__label--first"),getX:function(e){return e<MIN&&(e=MIN),MAX<e&&(e=MAX),e>secondPin.pin.offsetLeft&&(e=secondPin.pin.offsetLeft),this.pin.style.left=e+"px",depth.style.left=e+"px",e}},secondPin={pin:document.querySelector(".value-level__pin--second"),value:document.querySelector(".value-level__value--second"),label:document.querySelector(".value-level__label--second"),getX:function(e,t){return e<MIN&&(e=MIN),MAX<e&&(e=MAX),e<firstPin.pin.offsetLeft&&(e=firstPin.pin.offsetLeft),firstPin.pin.offsetLeft===secondPin.pin.offsetLeft&&-1<secondPin.pin.offsetLeft-e&&(e=firstPin.pin.offsetLeft+t.movementX,e=firstPin.getX(e),firstPin.value.value=Math.floor(e/MAX*maxPrice)),this.pin.style.left=e+"px",depth.style.right=MAX-e+"px",e}},MIN=0,MAX=line.offsetWidth-firstPin.pin.offsetWidth,maxPrice=firstPin.value.max,sliderHandler=function(i){i.preventDefault();function t(e){var t;e.preventDefault(),i.target.classList.contains("value-level__pin--first")?(t=firstPin.pin.offsetLeft+e.movementX,t=firstPin.getX(t),firstPin.value.value=Math.floor(t/MAX*maxPrice)):(t=secondPin.pin.offsetLeft+e.movementX,t=secondPin.getX(t,e),secondPin.value.value=Math.floor(t/MAX*maxPrice))}var l=function(e){e.preventDefault(),document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",l)};document.addEventListener("mousemove",t),document.addEventListener("mouseup",l)},numberChange=function(e){var t;e.target.classList.contains("value-level__value--first")?(t=firstPin.value.value*MAX/maxPrice,(t=firstPin.getX(t))<firstPin.value.value*MAX/maxPrice&&(firstPin.value.value=Math.floor(t/MAX*maxPrice))):(t=secondPin.value.value*MAX/maxPrice,(t=secondPin.getX(t))<secondPin.value.value*MAX/maxPrice&&(secondPin.value.value=Math.floor(t/MAX*maxPrice)))},document.querySelectorAll(".value-level__value").forEach(function(e){e.addEventListener("change",function(e){numberChange(e)})}),document.querySelectorAll(".value-level__pin").forEach(function(e){e.addEventListener("mousedown",function(e){sliderHandler(e)})}));